{% schema %}
{
  "name": "seen-in-community",
  "settings": [],
  "blocks": [
    {
      "type": "video",
      "name": "Video Block",
      "settings": [
        {
          "type": "text",
          "id": "video_url",
          "label": "Video URL"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "seen-in-community",
      "category": "Custom"
    }
  ]
}
{% endschema %}


{% stylesheet %}
.slider-container {
  /* background-color: lightblue; */
  max-width: 100%;
  margin: 0 auto;
  padding: 20px;
  position: relative;
  overflow: hidden; 
}

.autoplay.single-item {
  display: flex;
  justify-content: center;  /* This will center the slides */
  align-items: center;      /* This will vertically center the slides */
}

.slide {
  flex: 0 0 auto;    /* This makes sure each slide only takes up as much space as it needs */
  display: flex;     /* This allows us to center the image within the slide */
  justify-content: center;
  align-items: center;
  width: 100%;       /* This ensures each slide takes up full width of the container */
  padding: 10px;
}

.slide img {
  width: 600px;             /* Set a fixed width */
  height: 550px;            /* Set a fixed height */
  object-fit: cover;        /* Resize the image to cover the width and height */
  margin: 0 auto;
  display: block;
}



 
  
{% endstylesheet %}

{% javascript %}
  
$(document).ready(function(){
  $('.single-item').slick({
      slidesToShow: 3,
  slidesToScroll: 1,
    autoplay: true,
    autoplaySpeed: 1000,
    arrows: true, 
    dots: true,
  });
});


{% endjavascript %}



<div class="slider-container">
  <div class="autoplay single-item"> <!-- Add the single-item class here -->
    
    <!-- Rendering Images from Metafields -->
    {% assign array_of_media = product.metafields.custom.seenincommunity.value %}
    {% if array_of_media %}
      {% for product_image in array_of_media %}
        <div class="slide">
          <img src="{{ product_image | image_url }}">
        </div>
      {% endfor %}
    {% endif %}
    
    <!-- Rendering Videos from Block Settings -->
    {% for block in section.blocks %}
    {% if block.settings.video_url != blank %}
        <div class="slide video">
            <video playsinline preload="metadata" muted loop controls width="600" height="550">
                <source src="{{ block.settings.video_url }}" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>
    {% endif %}
{% endfor %}

   
  </div>
</div>
